# 添加分类功能计划

## 目标

参照stat-card的样式，在find_items.html页面中添加一个动态添加按钮，根据当前筛选类型显示"添加房间"或"添加分类"，符合苹果设计风格和极简主义设计原则。

## 实现思路

1. **在统计卡片区域添加动态按钮**：在stats-section中添加一个按钮，样式参照stat-card，根据当前筛选类型动态显示文本
2. **动态文本与功能**：
   - 当筛选类型为"room"时，显示"添加房间"
   - 当筛选类型为"category"时，显示"添加分类"
3. **按钮交互**：点击按钮后显示相应的添加模态框
4. **样式设计**：采用苹果设计风格，极简主义设计，与现有stat-card样式保持一致
5. **代码优化**：删除无用的搜索相关JavaScript代码，保持代码简洁

## 实现步骤

### 1. 修改HTML模板 (`find_items.html`)

* 在stats-section中添加一个动态按钮，样式参照stat-card
* 根据filter_type变量动态设置按钮文本和数据类型

### 2. 更新JavaScript逻辑

* 删除无用的搜索相关JavaScript代码
* 确保动态按钮的点击事件正确触发模态框
* 保持现有模态框功能和推荐生成逻辑不变

### 3. 优化CSS样式

* 确保新添加的按钮样式符合苹果设计风格
* 与现有stat-card样式保持一致
* 采用极简主义设计原则

## 技术实现

### HTML模板修改

```html
<!-- 在stats-section中添加动态按钮 -->
<div class="stats-section">
    <div class="stat-card">
        <div class="stat-label">物品总数</div>
        <div class="stat-number">{{ total_items }}</div>
    </div>
    <div class="stat-card">
        <div class="stat-label" id="second-stat-label">
            {% if filter_type == 'room' %}房间数{% else %}分类数{% endif %}
        </div>
        <div class="stat-number" id="second-stat-number">
            {% if filter_type == 'room' %}{{ room_count }}{% else %}{{ category_count }}{% endif %}
        </div>
    </div>
    <!-- 添加动态按钮 -->
    <div class="stat-card add-card">
        <button class="add-btn" id="add-item-btn" data-type="{{ filter_type }}">
            <span class="add-icon">+</span>
            <span class="add-text">
                {% if filter_type == 'room' %}添加房间{% else %}添加分类{% endif %}
            </span>
        </button>
    </div>
</div>
```

### JavaScript修改

```javascript
// 删除无用的搜索相关代码
// 添加按钮点击事件
document.getElementById('add-item-btn').addEventListener('click', (e) => {
    const type = e.target.closest('.add-btn').getAttribute('data-type');
    showModal(type);
});
```

### CSS样式修改

```css
/* 添加按钮样式 */
.add-card {
    display: flex;
    align-items: center;
    justify-content: center;
}

.add-btn {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background-color: var(--bg-card);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-medium);
    color: var(--accent);
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition);
    padding: var(--spacing-sm);
    -webkit-tap-highlight-color: transparent;
}

.add-btn:hover {
    background-color: var(--bg-secondary);
    transform: translateY(-2px);
    box-shadow: var(--shadow-heavy);
}

.add-btn:active {
    transform: translateY(0);
}

.add-icon {
    font-size: 24px;
    margin-bottom: 4px;
}

.add-text {
    font-size: 13px;
    font-weight: 500;
    letter-spacing: 0.5px;
    text-transform: uppercase;
}
```

## 预期效果

* 在统计卡片区域显示一个动态添加按钮
* 当筛选类型为"room"时，按钮显示"添加房间"
* 当筛选类型为"category"时，按钮显示"添加分类"
* 点击按钮后显示相应的添加模态框
* 样式符合苹果设计风格和极简主义设计原则
* 代码简洁，只修改必要的部分

## 兼容性

* 确保现有数据和功能不受影响
* 保持与现有API端点的兼容性
* 确保响应式设计正常工作

## 测试

* 验证按钮在不同筛选类型下的显示文本正确
* 验证按钮点击事件能正确触发相应的模态框
* 验证模态框中的推荐内容正确加载
* 验证添加功能正常工作
* 验证样式符合苹果设计风格和极简主义设计原则
