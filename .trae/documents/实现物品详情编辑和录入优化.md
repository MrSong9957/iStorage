# 实现物品详情编辑和录入优化

## 1. 问题分析

### 1.1 物品详情模态窗口
- 当前模态窗口显示了物品基本信息，但缺少二维码
- 描述部分是只读的，无法编辑
- 缺少保存编辑的功能

### 1.2 物品录入页面
- 缺少描述输入框，只有隐藏字段
- 备注字段也是隐藏的，用户无法输入

## 2. 修复方案

### 2.1 改进物品详情模态窗口
- 添加二维码显示区域，使用物品编号生成二维码
- 将描述部分改为可编辑的textarea
- 添加保存按钮，用于保存编辑后的描述
- 使用JavaScript实现编辑和保存功能

### 2.2 优化物品录入页面
- 添加描述输入框，允许用户输入物品描述
- 添加备注输入框，可选填写
- 保持名称和图片二选一的验证逻辑

## 3. 实现步骤

### 3.1 修改物品详情模态窗口
1. 添加二维码显示区域
2. 将描述部分改为可编辑的textarea
3. 添加保存按钮
4. 实现JavaScript编辑和保存功能

### 3.2 修改物品录入页面
1. 添加描述输入框
2. 添加备注输入框
3. 移除隐藏的description和notes字段
4. 保持表单验证逻辑

### 3.3 添加API端点
1. 在views.py中添加保存物品描述的API端点
2. 在urls.py中添加对应的URL路由

## 4. 技术要点
- 使用JavaScript生成二维码（无需额外库，使用现有的二维码生成逻辑）
- 使用AJAX请求保存物品描述
- 保持页面风格的延续性
- 确保代码简洁高效

## 5. 文件修改清单
- `templates/items/find_items.html`：修改模态窗口，添加二维码和可编辑描述
- `templates/items/deposit_item.html`：添加描述和备注输入框
- `apps/items/views.py`：添加保存物品描述的API端点
- `apps/items/urls.py`：添加对应的URL路由

