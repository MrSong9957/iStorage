## 优化用户登录流程

### 问题分析
1. **密码安全问题**：数据库中存在明文密码（testuser），这是不安全的
2. **登录流程**：登录视图已经实现，但需要确保所有用户都能正常登录
3. **字段完整性**：用户名、邮箱和密码字段都存在，但需要确保密码加密
4. **登录方式**：目前只支持用户名登录，可考虑添加邮箱登录支持

### 解决方案
1. **加密明文密码**：修复testuser的密码，确保它被加密
2. **优化登录视图**：添加邮箱登录支持，允许用户使用邮箱或用户名登录
3. **增强密码验证**：确保注册和登录时密码都经过加密
4. **测试验证**：确保所有用户都能正常登录

### 具体实现步骤
1. **创建密码加密脚本**：将testuser的明文密码加密
2. **修改登录视图**：添加邮箱登录支持
3. **更新登录表单**：支持邮箱登录
4. **测试验证**：确保所有用户都能正常登录

### 预期效果
- 所有用户密码都经过加密
- 支持用户名或邮箱登录
- 登录流程正常工作
- 密码安全得到保障

### 代码修改点
1. **创建脚本**：`encrypt_password.py` - 加密明文密码
2. **修改**：`apps/users/views.py` - 添加邮箱登录支持
3. **修改**：`apps/users/forms.py` - 更新登录表单支持邮箱登录

### 注意事项
- 保持代码简洁，符合极简主义原则
- 只修改必要的代码，不影响其他功能
- 确保现有数据的兼容性
- 遵循Django最佳实践
- 保持页面风格的延续性