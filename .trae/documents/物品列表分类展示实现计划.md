# 物品列表分类展示实现计划

## 目标

实现物品列表按房间或分类进行分组展示，符合苹果设计风格和极简主义设计原则。

## 实现步骤

### 1. 修改视图函数

* **文件**: `apps/items/views.py`

* **函数**: `find_items`

* **修改内容**:

  * 根据 `filter_type` 参数将物品按房间或分类分组

  * 使用 Python 的 `defaultdict` 实现分组逻辑

  * 确保分组后的数据结构清晰易用

### 2. 修改模板文件

* **文件**: `templates/items/find_items.html`

* **修改内容**:

  * 根据分组后的数据结构，为每个分组创建一个独立的物品网格

  * 为每个分组添加分组标题

  * 保持现有苹果设计风格和极简主义设计原则

  * 确保响应式布局正常工作

### 3. 优化样式

* **文件**: `static/css/custom.css`（如需要）

* **修改内容**:

  * 为分组标题添加适当的样式

  * 优化分组间的间距

  * 确保分组展示符合现代设计风格

## 技术实现细节

### 视图函数修改

* 使用 `from collections import defaultdict` 导入 defaultdict

* 对于按房间筛选：

  ```python
  grouped_items = defaultdict(list)
  for item in items:
      room = item.location or "未指定"
      grouped_items[room].append(item)
  ```

* 对于按分类筛选：

  ```python
  grouped_items = defaultdict(list)
  for item in items:
      category = item.category.name if item.category else "未分类"
      grouped_items[category].append(item)
  ```

* 将分组后的数据传递给模板

### 模板修改

* 使用 `{% for group_name, group_items in grouped_items.items %}` 遍历分组

* 为每个分组添加标题：`{{ group_name }}`

* 在每个分组内显示物品卡片

## 注意事项

1. 确保现有数据的兼容性
2. 保持代码简洁易懂
3. 遵循 Django 最佳实践
4. 符合苹果设计风格和极简主义设计原则
5. 只修改必要的代码，不影响其他功能

## 预期效果

* 按房间筛选时，物品列表按房间分组展示

* 按分类筛选时，物品列表按分类分组展示

* 分组标题清晰可见

* 布局美观，符合现代设计风格

* 响应式设计，适配

