# 修改计划

## 目标

将search-section中的两个添加按钮（添加房间、添加分类）合并为一个动态按钮，根据当前筛选类型显示相应的添加功能，符合苹果设计风格和极简主义设计。

## 修改内容

### 1. 修改HTML模板 (`find_items.html`)

* 删除`add-buttons` div中的两个独立按钮

* 添加一个动态按钮，根据`filter_type`变量设置按钮文本和数据类型

* 保持现有模态框功能不变

### 2. 调整CSS样式 (`custom.css`)

* 确保单个添加按钮的样式符合苹果设计风格

* 优化按钮布局，保持极简主义设计

### 3. 更新JavaScript逻辑

* 确保动态按钮的点击事件正确触发模态框

* 保持现有模态框功能和推荐生成逻辑不变

## 技术实现

### HTML模板修改

```html
<!-- 修改前 -->
<div class="add-buttons">
    <button class="add-btn" id="add-room-btn" data-type="room">
        <span class="add-icon">+</span>
        <span class="add-text">添加房间</span>
    </button>
    <button class="add-btn" id="add-category-btn" data-type="category">
        <span class="add-icon">+</span>
        <span class="add-text">添加分类</span>
    </button>
</div>

<!-- 修改后 -->
<div class="add-buttons">
    <button class="add-btn" id="add-item-btn" data-type="{{ filter_type }}">
        <span class="add-icon">+</span>
        <span class="add-text">
            {% if filter_type == 'room' %}添加房间{% else %}添加分类{% endif %}
        </span>
    </button>
</div>
```

### JavaScript修改

```javascript
// 修改前
// 添加按钮点击事件
document.getElementById('add-room-btn').addEventListener('click', () => {
    showModal('room');
});

document.getElementById('add-category-btn').addEventListener('click', () => {
    showModal('category');
});

// 修改后
// 添加按钮点击事件
document.getElementById('add-item-btn').addEventListener('click', (e) => {
    const type = e.target.closest('.add-btn').getAttribute('data-type');
    showModal(type);
});
```

## 预期效果

* 当筛选类型为"room"时，显示"添加房间"按钮

* 当筛选类型为"category"时，显示"添加分类"按钮

* 点击按钮后，根据当前筛选类型弹出相应的添加模态框

* 保持原有功能不变，同时符合苹果设计风格和极简主义设计

## 兼容性

* 确保现有数据和功能不受影响

* 保持与现有API端点的兼容性

* 确保响应式设计正常工作

## 测试

* 验证按钮在不同筛选类型下的显示文本正确

* 验证按钮点击事件能正确触发相应的模态框

* 验证模态框中的推荐内容正确加载

* 验证添加功能正常工作

